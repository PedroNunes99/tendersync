---------------------------- section ----------------------------
docs
---------------------------- document_id ----------------------------
620
---------------------------- title ----------------------------
Agent Installation (Ruby)
---------------------------- permalink ----------------------------
agent-installation
---------------------------- keywords ----------------------------
agent install plugin plug-in gem installation rubyforge github merb ruby rails
---------------------------- body ----------------------------
To use RPM you need to install the RPM Agent as either a Rails Plug-in or a Gem (which can be used with merb).

We recommend checking back for agent updates regularly.  All updates are announced on our [twitter feed](http://www.twitter.com/newrelicstatus).  Major new releases will be announced on [our blog](http://blogs.newrelic.com).

<a name="Installing_the_Plug-in"></a>
## Installing the Plug-in

The plug-in should be installed from the Rubyforge Subversion repository using the following command:
<pre>
script/plugin install http://newrelic.rubyforge.org/svn/newrelic_rpm
</pre>

This will export the plug-in into your local directory.

<a name="Installing_the_Gem"></a>
## Installing the Gem

We recommend installing the RPM Gem in order to have better control over versions and dependencies.  

The gem is required for Merb, and not supported for Rails on versions prior to 2.0.  For 1.2.6 and earlier, install the plug-in.

Our gem is available on rubyforge as `newrelic_rpm`:

     sudo gem install newrelic_rpm

For Rails versions 2.1 and above, edit environment.rb and add to the initializer block:

    config.gem "newrelic_rpm" 

For Rails versions 2.0.*, edit environment.rb and add this statement after the initializer block:

    require "newrelic_rpm"

<a name="Updating_newrelic.yml"></a>
## Updating the `newrelic.yml` file

Whenever you update the agent, you'll need to double-check that your Agent configuration file (config/newrelic.yml) is up to date. To do this, you'll need to do a visual inspection of the default newrelic.yml file that lives in the Agent plug-in folder (`vendor/plugins/newrelic_rpm/newrelic.yml`). Look for new configuration options that aren't in your config/newrelic.yml file.

<a name="Updating_the_Agent"></a>
## Updating the Agent

As with any plug-in, when using Subversion it's necessary to blow away the old agent plug-in before reinstalling. 

    svn rm vendor/plugins/newrelic_rpm
    svn commit vendor/plugins -m "removing old version of newrelic" 
   
Then, to install the latest agent:
<pre>
script/plugin install http://newrelic.rubyforge.org/svn/newrelic_rpm
svn add vendor/plugins/newrelic_rpm
svn commit vendor/plugins -m "upgrading newrelic to version X.X.X"
</pre>
